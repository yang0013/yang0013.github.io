<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>arts w02-Merge Two Sorted Lists | Yang</title>
<meta name="generator" content="Jekyll v3.8.3" />
<meta property="og:title" content="arts w02-Merge Two Sorted Lists" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Tip Let’s Encrypt 提供免费的 https 证书服务，可用工具 certbot 管理证书，安装步骤见这里，下面以 ubuntu 16.04 nginx 为例，如下：" />
<meta property="og:description" content="Tip Let’s Encrypt 提供免费的 https 证书服务，可用工具 certbot 管理证书，安装步骤见这里，下面以 ubuntu 16.04 nginx 为例，如下：" />
<link rel="canonical" href="/arts/2018/08/13/arts-w02-Merge-Two-Sorted-Lists.html" />
<meta property="og:url" content="/arts/2018/08/13/arts-w02-Merge-Two-Sorted-Lists.html" />
<meta property="og:site_name" content="Yang" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-08-13T13:37:05+08:00" />
<script type="application/ld+json">
{"description":"Tip Let’s Encrypt 提供免费的 https 证书服务，可用工具 certbot 管理证书，安装步骤见这里，下面以 ubuntu 16.04 nginx 为例，如下：","@type":"BlogPosting","url":"/arts/2018/08/13/arts-w02-Merge-Two-Sorted-Lists.html","headline":"arts w02-Merge Two Sorted Lists","dateModified":"2018-08-13T13:37:05+08:00","datePublished":"2018-08-13T13:37:05+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"/arts/2018/08/13/arts-w02-Merge-Two-Sorted-Lists.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Yang" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Yang</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">arts w02-Merge Two Sorted Lists</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2018-08-13T13:37:05+08:00" itemprop="datePublished">Aug 13, 2018
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h2 id="tip">Tip</h2>
<p><a href="https://letsencrypt.org/getting-started/">Let’s Encrypt</a> 提供免费的 https 证书服务，可用工具 certbot 管理证书，安装步骤见<a href="https://certbot.eff.org/lets-encrypt/ubuntuxenial-nginx">这里</a>，下面以 ubuntu 16.04 nginx 为例，如下：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo apt-get update
$ sudo apt-get install software-properties-common
$ sudo add-apt-repository ppa:certbot/certbot
$ sudo apt-get update
$ sudo apt-get install python-certbot-nginx
</code></pre></div></div>

<p>安装完 certbot 后运行下面命令，根据提示，输入邮箱等信息，certbot 会获取你主机上 nginx 的配置信息，自动添加 ssl 配置项。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo certbot --nginx
</code></pre></div></div>

<p>过程中会询问是否将 http 重定向到 https，重定向输入 2：</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Please choose whether or not to redirect HTTP traffic to HTTPS, removing HTTP access.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
1: No redirect - Make no further changes to the webserver configuration.
2: Redirect - Make all requests redirect to secure HTTPS access. Choose this for
new sites, or if you're confident your site works on HTTPS. You can undo this
change by editing your web server's configuration.
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
Select the appropriate number [1-2] then [enter] (press 'c' to cancel): 2
</code></pre></div></div>

<p>完成之后，重启 nginx，就可以 用 https 访问站点了，上面若选 2，则访问 http 会自动跳转到 https。</p>

<h2 id="algorithm">Algorithm</h2>
<p>leetcode 21题 <a href="https://leetcode.com/problems/merge-two-sorted-lists/description/">Merge Two Sorted Lists</a>，将两个有序链表，合并成一个有序链表。</p>

<blockquote>
  <p>Input: 1-&gt;2-&gt;4, 1-&gt;3-&gt;4<br />
Output: 1-&gt;1-&gt;2-&gt;3-&gt;4-&gt;4</p>
</blockquote>

<p>第一版通过的代码：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">mergeTwoLists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">l1</span><span class="p">,</span> <span class="n">l2</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">l1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">l2</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">l2</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">l1</span>

        <span class="k">if</span> <span class="n">l1</span><span class="o">.</span><span class="n">val</span> <span class="o">&lt;=</span> <span class="n">l2</span><span class="o">.</span><span class="n">val</span><span class="p">:</span>
            <span class="n">tmp</span> <span class="o">=</span> <span class="n">l1</span><span class="o">.</span><span class="nb">next</span>
            <span class="n">l</span> <span class="o">=</span> <span class="n">l1</span>
            <span class="n">l1</span> <span class="o">=</span> <span class="n">tmp</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">tmp</span> <span class="o">=</span> <span class="n">l2</span><span class="o">.</span><span class="nb">next</span>
            <span class="n">l</span> <span class="o">=</span> <span class="n">l2</span>
            <span class="n">l2</span> <span class="o">=</span> <span class="n">tmp</span>

        <span class="n">res</span> <span class="o">=</span> <span class="n">l</span>
        <span class="k">while</span> <span class="n">l1</span> <span class="ow">and</span> <span class="n">l2</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">l1</span><span class="o">.</span><span class="n">val</span> <span class="o">&lt;=</span> <span class="n">l2</span><span class="o">.</span><span class="n">val</span><span class="p">:</span>             
                <span class="n">tmp</span> <span class="o">=</span> <span class="n">l1</span><span class="o">.</span><span class="nb">next</span>
                <span class="n">l</span><span class="o">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">l1</span>
                <span class="n">l</span> <span class="o">=</span> <span class="n">l</span><span class="o">.</span><span class="nb">next</span>
                <span class="n">l1</span> <span class="o">=</span> <span class="n">tmp</span>
                
            <span class="k">else</span><span class="p">:</span>
                <span class="n">tmp</span> <span class="o">=</span> <span class="n">l2</span><span class="o">.</span><span class="nb">next</span>
                <span class="n">l</span><span class="o">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">l2</span>
                <span class="n">l</span> <span class="o">=</span> <span class="n">l</span><span class="o">.</span><span class="nb">next</span>
                <span class="n">l2</span> <span class="o">=</span> <span class="n">tmp</span>
        
        <span class="k">if</span> <span class="n">l1</span><span class="p">:</span>
            <span class="n">l</span><span class="o">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">l1</span>
        <span class="k">if</span> <span class="n">l2</span><span class="p">:</span>
            <span class="n">l</span><span class="o">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">l2</span>
        
        <span class="k">return</span> <span class="n">res</span>
</code></pre></div></div>

<p>看了讨论区的这个<a href="https://leetcode.com/problems/merge-two-sorted-lists/discuss/9735/Python-solutions-(iteratively-recursively-iteratively-in-place).">帖子</a>，有了一个简洁版：</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">mergeTwoLists</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">l1</span><span class="p">,</span> <span class="n">l2</span><span class="p">):</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">l</span> <span class="o">=</span> <span class="n">ListNode</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">while</span> <span class="n">l1</span> <span class="ow">and</span> <span class="n">l2</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">l1</span><span class="o">.</span><span class="n">val</span> <span class="o">&lt;=</span> <span class="n">l2</span><span class="o">.</span><span class="n">val</span><span class="p">:</span>
                <span class="n">l</span><span class="o">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">l1</span>
                <span class="n">l1</span> <span class="o">=</span> <span class="n">l1</span><span class="o">.</span><span class="nb">next</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">l</span><span class="o">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">l2</span>
                <span class="n">l2</span> <span class="o">=</span> <span class="n">l2</span><span class="o">.</span><span class="nb">next</span>

            <span class="n">l</span> <span class="o">=</span> <span class="n">l</span><span class="o">.</span><span class="nb">next</span>
        
        <span class="n">l</span><span class="o">.</span><span class="nb">next</span> <span class="o">=</span> <span class="n">l1</span> <span class="ow">or</span> <span class="n">l2</span>
        
        <span class="k">return</span> <span class="n">res</span><span class="o">.</span><span class="nb">next</span>
</code></pre></div></div>
<p>两个版本的解决思路完全一样，不同的是第二版本对新链表做了初始化，返回结果时取next；去掉循环中的 <code class="highlighter-rouge">tmp</code> 变量，抽出 <code class="highlighter-rouge">if</code> 中共同的 <code class="highlighter-rouge">l = l.next</code>；去掉不必要的空判断；用 <code class="highlighter-rouge">l1 or l2</code> 替换两个 <code class="highlighter-rouge">if</code> 语句。代码量少了一半，执行时间从 52ms 降到 48 ms。完美。</p>

<p>上周选了一个中等难度的题，解了四五个小时，本次就选了简单题，花了两个半小时。还是先从简单的开始。</p>

<h2 id="review">Review</h2>
<p><a href="https://blockgeeks.com/guides/different-smart-contract-platforms/">A Deeper Look at Different Smart Contract Platforms</a></p>

<h2 id="share">Share</h2>
<p><a href="https://medium.com/zkcapital/the-state-of-hashing-algorithms-the-why-the-how-and-the-future-b21d5c0440de">The State of Hashing Algorithms — The Why, The How, and The Future</a></p>

  </div><a class="u-url" href="/arts/2018/08/13/arts-w02-Merge-Two-Sorted-Lists.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Yang</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Yang</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/yang0013"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">yang0013</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p></p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
